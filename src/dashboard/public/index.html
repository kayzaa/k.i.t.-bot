<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K.I.T. Trading Dashboard</title>
    <link rel="stylesheet" href="/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
</head>
<body>
    <div class="dashboard">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="logo">
                <span class="logo-icon">ü§ñ</span>
                <span class="logo-text">K.I.T.</span>
            </div>
            <ul class="nav-links">
                <li class="active" data-page="overview">
                    <span class="nav-icon">üìä</span>
                    <span>Overview</span>
                </li>
                <li data-page="positions">
                    <span class="nav-icon">üìà</span>
                    <span>Positions</span>
                </li>
                <li data-page="trades">
                    <span class="nav-icon">üíπ</span>
                    <span>Trades</span>
                </li>
                <li data-page="strategies">
                    <span class="nav-icon">üéØ</span>
                    <span>Strategies</span>
                </li>
                <li data-page="risk">
                    <span class="nav-icon">‚ö†Ô∏è</span>
                    <span>Risk</span>
                </li>
            </ul>
            <div class="sidebar-footer">
                <div class="connection-status" id="connectionStatus">
                    <span class="status-dot"></span>
                    <span>Disconnected</span>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="header">
                <div class="header-left">
                    <h1 id="pageTitle">Overview</h1>
                    <span class="last-update">Last update: <span id="lastUpdate">-</span></span>
                </div>
                <div class="header-right">
                    <div class="price-ticker" id="priceTicker">
                        <!-- Prices will be injected here -->
                    </div>
                </div>
            </header>

            <!-- Pages Container -->
            <div class="pages-container">
                <!-- Overview Page -->
                <section class="page active" id="page-overview">
                    <!-- Portfolio Cards -->
                    <div class="cards-grid">
                        <div class="card">
                            <div class="card-header">
                                <span class="card-icon">üí∞</span>
                                <span class="card-title">Total Equity</span>
                            </div>
                            <div class="card-value" id="totalEquity">$0.00</div>
                            <div class="card-footer">
                                <span class="pnl positive" id="unrealizedPnl">+$0.00</span>
                                <span class="label">Unrealized P&L</span>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-header">
                                <span class="card-icon">üìà</span>
                                <span class="card-title">Today's P&L</span>
                            </div>
                            <div class="card-value" id="todayPnl">$0.00</div>
                            <div class="card-footer">
                                <span class="win-rate" id="winRate">0%</span>
                                <span class="label">Win Rate</span>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-header">
                                <span class="card-icon">üéØ</span>
                                <span class="card-title">Sharpe Ratio</span>
                            </div>
                            <div class="card-value" id="sharpeRatio">0.00</div>
                            <div class="card-footer">
                                <span class="drawdown" id="maxDrawdown">0%</span>
                                <span class="label">Max Drawdown</span>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-header">
                                <span class="card-icon">üìä</span>
                                <span class="card-title">Open Positions</span>
                            </div>
                            <div class="card-value" id="openPositions">0</div>
                            <div class="card-footer">
                                <span class="strategies-count" id="activeStrategies">0</span>
                                <span class="label">Active Strategies</span>
                            </div>
                        </div>
                    </div>

                    <!-- Charts Row -->
                    <div class="charts-row">
                        <div class="chart-container">
                            <h3>Portfolio Performance</h3>
                            <canvas id="portfolioChart"></canvas>
                        </div>
                        <div class="chart-container">
                            <h3>P&L Distribution</h3>
                            <canvas id="pnlChart"></canvas>
                        </div>
                    </div>

                    <!-- Price Chart -->
                    <div class="price-chart-container">
                        <div class="chart-header">
                            <h3>BTC/USDT Price</h3>
                            <div class="timeframe-selector">
                                <button class="tf-btn" data-tf="1m">1m</button>
                                <button class="tf-btn" data-tf="5m">5m</button>
                                <button class="tf-btn active" data-tf="1h">1H</button>
                                <button class="tf-btn" data-tf="4h">4H</button>
                                <button class="tf-btn" data-tf="1d">1D</button>
                            </div>
                        </div>
                        <canvas id="priceChart"></canvas>
                    </div>
                </section>

                <!-- Positions Page -->
                <section class="page" id="page-positions">
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Symbol</th>
                                    <th>Side</th>
                                    <th>Size</th>
                                    <th>Entry Price</th>
                                    <th>Current Price</th>
                                    <th>P&L</th>
                                    <th>P&L %</th>
                                    <th>Strategy</th>
                                    <th>Opened</th>
                                </tr>
                            </thead>
                            <tbody id="positionsTable">
                                <!-- Positions will be injected here -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Trades Page -->
                <section class="page" id="page-trades">
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Time</th>
                                    <th>Symbol</th>
                                    <th>Side</th>
                                    <th>Size</th>
                                    <th>Price</th>
                                    <th>P&L</th>
                                    <th>Fee</th>
                                    <th>Strategy</th>
                                </tr>
                            </thead>
                            <tbody id="tradesTable">
                                <!-- Trades will be injected here -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Strategies Page -->
                <section class="page" id="page-strategies">
                    <div class="strategies-grid" id="strategiesGrid">
                        <!-- Strategy cards will be injected here -->
                    </div>
                </section>

                <!-- Risk Page -->
                <section class="page" id="page-risk">
                    <div class="risk-container">
                        <div class="risk-gauge">
                            <h3>Risk Score</h3>
                            <div class="gauge-container">
                                <canvas id="riskGauge"></canvas>
                                <div class="gauge-value" id="riskScoreValue">0</div>
                            </div>
                        </div>
                        <div class="risk-metrics">
                            <div class="risk-metric">
                                <span class="metric-label">Portfolio VaR (95%)</span>
                                <span class="metric-value" id="portfolioVaR">$0</span>
                            </div>
                            <div class="risk-metric">
                                <span class="metric-label">Daily VaR</span>
                                <span class="metric-value" id="dailyVaR">$0</span>
                            </div>
                            <div class="risk-metric">
                                <span class="metric-label">Current Exposure</span>
                                <span class="metric-value" id="currentExposure">$0</span>
                            </div>
                            <div class="risk-metric">
                                <span class="metric-label">Margin Used</span>
                                <span class="metric-value" id="marginUsed">$0</span>
                            </div>
                            <div class="risk-metric">
                                <span class="metric-label">Margin Available</span>
                                <span class="metric-value" id="marginAvailable">$0</span>
                            </div>
                            <div class="risk-metric">
                                <span class="metric-label">Leverage</span>
                                <span class="metric-value" id="leverageUsed">0x</span>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <script src="/js/charts.js"></script>
    <script src="/js/app.js"></script>
</body>
</html>
